# 台大醫院藥劑部門診調劑訓練遊戲

> 透過網頁遊戲化學習，降低新進藥師與實習學生的調劑訓練壓力

## 專案背景

### 現況說明

台大醫院門診藥局設有 11 個調劑台，架上約有 **200 種常用藥品**。目前有兩款調劑台：
- 傳統人工配藥台（主流，新人必學）
- 機器輔助配藥台

### 訓練對象

| 對象 | 人數 | 時間 |
|------|------|------|
| 新進藥師 | 每年約 30-50 人 | 全年輪替 |
| 實習學生 | 約 50 人 | 1-5 月 |

### 現行訓練方式

- 老師手把手實地教學
- 訓練時間：1-4 天不等
- 從收藥 → 配藥 → 庫存管理，完整流程

---

## 問題與痛點

### 新人面臨的挑戰

1. **藥品位置記憶**
   - 200 種藥品位置需靠記憶
   - 初學者找藥耗時
   - 雖有地圖但仍需時間熟悉

2. **數量規格複雜**
   - 一片可能是 7 / 10 / 14 顆
   - 一盒可能是 28 / 30 顆
   - 每種藥規格不同，需個別記憶

3. **配藥計算**
   - 例：一排 15 顆要配 4 顆，需計算怎麼剪
   - 剪藥方式也需要技巧與默契

4. **現場壓力**
   - 配藥速度慢會卡住整個窗口
   - 處方不斷累積，籃子堆疊
   - 緊張情況下學習效果差

### 教學端的困境

- 老師需同時顧及教學與自身產能
- 學生配藥慢，順序易亂
- 緊張情況下反覆教導仍難吸收
- **近期發生新人因壓力過大而崩潰的案例**

---

## 解決方案

### 核心概念

> 「讓新人來打電動，打完電動破關之後，再來實際到線上碰到這個壓力」

將調劑訓練內容遊戲化，讓學習者在正式上線前，透過**網頁小遊戲**預先熟悉：
- 藥品位置
- 數量規格
- 配藥計算

### 形式選擇

| 選項 | 決議 | 原因 |
|------|------|------|
| VR | ❌ 不採用 | 需頭盔設備、環境限制大 |
| **網頁 2D 遊戲** | ✅ 採用 | 可隨時隨地在家練習、無需額外設備 |

### 技術方案

- 可運用 AI 輔助開發

---

## 研究與實證基礎 (Research & Evidence)

本專案的遊戲化設計並非憑空想像，而是基於現有的醫學教育與嚴肅遊戲（Serious Games）研究成果：

1.  **虛擬調劑模擬的效益**
    - 參考 **MyDispense** (Monash University) 的成功案例，虛擬藥局練習能顯著提升學生的調劑信心與準確率，且提供一個「無風險」的試錯環境（Safe-to-fail environment）。
    - 研究顯示，透過模擬訓練能有效降低新手藥師實際上手時的焦慮感（Situational Anxiety）。

2.  **流水線遊戲（Assembly Line Games）與時間管理**
    - 類似 *Burger Maker* 或 *Overcooked* 的遊戲機制，能有效訓練學員在「多工處理」與「時間壓力」下的優先順序判斷。
    - 透過視覺化的「處方堆疊（Queueing）」呈現，讓學員習慣「忙碌感」，避免實際臨床遇到大量處方時崩潰。

3.  **空間記憶訓練（Visuospatial Memory）**
    - 運用「位置記憶遊戲（Grid Memory）」機制，強化大腦將「藥名」與「空間位置」連結，縮短提取記憶的反應時間（Retrieval Time）。

---

## 遊戲設計規格

### 訓練目標

學習者完成遊戲後應具備：

1. **藥品定位能力** - 給藥名能快速找到位置
2. **數量規格認知** - 知道該藥一片/一盒幾顆
3. **配藥計算能力** - 能算出正確數量並知道怎麼剪

### 遊戲流程

```
┌─────────────────┐
│    開始遊戲      │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 顯示處方         │
│ （藥名 + 數量）   │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 玩家點選藥品位置  │
│ （藥櫃格子）      │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 輸入配藥數量      │
│ （幾片 + 幾顆）   │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 系統判定正確與否  │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 計時 + 計分      │
└────────┬────────┘
         ▼
┌─────────────────┐
│ 下一張處方/過關   │
└─────────────────┘
```

### 功能模組與核心玩法 (Core Mechanics)

#### 1. 藥櫃定位特訓 (Location Module) - "The Grid"
**目標：** 建立「藥名-位置」的肌肉記憶。
- **機制參考：** 經典翻牌記憶、Grid Memory Game。
- **階段設計：**
    - **階段一 (Flashcard)：** 顯示藥名，地圖上正確格子發光，玩家點擊確認（建立連結）。
    - **階段二 (Recall)：** 顯示藥名，玩家需在地圖盲測點擊正確位置。
    - **階段三 (Timed Search)：** 限時內連續點擊出 10 個指定藥品（訓練直覺反射）。

#### 2. 處方解碼與配藥 (Dispensing Module)
**目標：** 熟悉不同藥品的「一排/一盒」規格定義。
- **機制：**
    - 處方顯示：「藥名 X 45 顆」。
    - 玩家操作：
        - 點選「整盒區」拿取 1 盒（假設該藥一盒 30 顆）。
        - 點選「排裝區」拿取 1 排（假設該藥一排 10 顆）。
        - 點選「剪刀工具」對最後一排進行**視覺化切割**（Visual Slicing），拖曳切線將 10 顆剪下 5 顆。
    - **創新點：** 不只是輸入數字，而是模擬「拿取」與「切割」的動作，強化對規格的實體感。

#### 3. 壓力模擬系統 (Rush Hour System)
**目標：** 訓練多工與抗壓性。
- **機制參考：** 餐廳流水線遊戲 (Diner Dash style)。
- **運作方式：**
    - 畫面上方會有「處方輸送帶」，處方單會不斷滑入。
    - 每張處方有「倒數計時條」（顏色由綠轉紅）。
    - 累積過多未完成處方會導致「警報響起」或螢幕變紅（模擬臨床壓力）。
    - 玩家需學習「批量處理」或「優先處理快過期的處方」。

#### 4. 計分與回饋 (Feedback Loop)
- **即時回饋：** 剪錯顆數、拿錯藥盒，立即顯示「嗶嗶！錯誤」並扣時。
- **錯誤分析：** 遊戲結束後列出「今日最常搞混的藥」清單（例如：常把 A 藥位置記成 B 藥）。

### 進階功能（Phase 2）

- 關卡設計（破關解鎖新區域）
- 排行榜
- 剪藥片模擬（視覺化呈現怎麼剪）
- 分包機情境（藥袋提示 + 補盒裝）

---

## 調劑規則重點

### 數量規格

| 類型 | 常見規格 |
|------|----------|
| 一片 | 7 / 10 / 14 顆 |
| 一盒 | 28 / 30 顆（每種藥不同） |

> 正常情況一排多為 10 顆，但有許多例外需特別記憶

### 配藥原則

1. **能給整盒/整片就不要散裝** - 避免病人抗議、方便計數
2. **不能囤積過多散裝** - 避免過期
3. **剪藥有技巧** - 例如 15 顆一排要配 4 顆，剪法需考慮後續使用

### 分包機情境

- 藥袋上有箭頭提示「分包」
- 若處方量大於一盒，需自行補充整盒
- 例：開 35 顆，分包機出 5 顆散裝 + 需自己拿 1 盒（30顆）

---

## 藥劑部需提供資料

| 資料項目 | 說明 | 格式建議 |
|----------|------|----------|
| 藥櫃地圖 | 各位置對應藥品名稱 | 圖片 + 表格 |
| 藥品清單 | 約 200 種藥品名稱 | CSV / Excel |
| 數量規格表 | 每種藥一片幾顆、一盒幾顆 | CSV / Excel |
| 調劑 SOP | 配藥規則、剪藥方式等細節 | PDF / 文件 |
| 學生 Handout | 現有給學生的教材 | 任何格式 |
| 藥櫃照片 | 實際環境參考 | 已有 4 張 |

> 「你們給學生什麼，就丟給我們」— 不需特別整理，提供原始資料即可

---

## 預期效益

| 效益 | 說明 |
|------|------|
| **降低新人焦慮** | 上線前已有基本熟悉度，減少現場壓力 |
| **縮短訓練時間** | 減少老師手把手教學時間 |
| **標準化學習** | 每個人接受相同訓練內容 |
| **可重複練習** | 隨時在家自主練習，不受時間地點限制 |
| **提升學習動機** | 遊戲化設計讓年輕學習者更有興趣 |

---

## 專案目標

> 「讓學生可以先在家裡打怪，來的時候他就變強」

---

## 技術架構建議 (Technical Architecture)

為符合「輕量化、免安裝、可擴充」的需求，建議採用以下現代化網頁技術棧：

- **遊戲引擎 (Game Core):** **Phaser.js**
    - 專為 2D 網頁遊戲設計，效能極佳。
    - 適合處理「大量藥品 Sprite」、「拖曳切割物理效果」與「複雜計時邏輯」。
- **介面框架 (UI Wrapper):** **React**
    - 處理選單、藥品清單管理、地圖資料顯示（這些靜態資料用 React 刻比用 Canvas 畫更快）。
    - 未來可擴充「後台管理系統」讓藥師自行更新藥品資料 CSV。
- **部署 (Deployment):** **GitHub Pages** 或 **Vercel**
    - 完全免費、零維護成本，只要有瀏覽器即可開啟遊玩。

---

## 檔案結構

```
EdTech Support 藥劑部_AG/
├── README.md          # 本文件
├── 會議逐字稿.md       # 原始會議記錄
├── 藥櫃照片/           # 現場照片
│   ├── IMG_7600.HEIC
│   ├── IMG_7601.HEIC
│   ├── IMG_7602.HEIC
│   └── IMG_7603.HEIC
└── （待新增）
    ├── 藥櫃地圖/
    ├── 藥品清單/
    └── 調劑SOP/
```

---

## 聯絡資訊

- **需求單位**：台大醫院藥劑部
- **EdTech 支援**：（待補充）

---

*文件建立日期：2025-12-17*

## 藥櫃配置與佈局特點 (Cabinet Layout Specification)

根據實際觀察與需求討論，遊戲畫面需符合以下配置以還原現場環境：

### 1. 藥櫃排列 (Layout Structure)
- **畫面呈現**：單一橫幅螢幕 (Single Landscape Screen) 需完整顯示所有櫃位，避免捲動。

**上排櫃位 (Top Row)**
- **順序 (由左至右)**：**C 櫃** ← **B 櫃** ← **A 櫃**
- **寬度比例**：三櫃寬度均分 (Equal Width)。
- **垂直結構**：每個櫃子分為 **5 層 (Shelves)**，每層可橫向排列藥品。
- **視覺高度**：相對較短 (Height Ratio: Top < Bottom)，以符合人體工學與視覺重心。

**下排櫃位 (Bottom Row)**
- **順序 (由左至右)**：**J 櫃** ← **I 櫃** ← **H 櫃** ← **G 櫃** ← **E 櫃** ← **F 櫃**
- **寬度比例**：六櫃寬度均分。
- **垂直結構**：
    - **上半部**：兩個垂直排列的 **抽屜 (Drawers)**。
    - **下半部**：**雙開門櫃 (Split Doors)**，分為左右兩扇門 (Left/Right)。
